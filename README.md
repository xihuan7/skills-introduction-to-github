<header>

<!--
  <<< Author notes: Course header >>>
  Include a 1280Ã—640 image, course title in sentence case, and a concise description in emphasis.
  In your repository settings: enable template repository, add your 1280Ã—640 social image, auto delete head branches.
  Add your open source license, GitHub uses MIT license.
-->

# Introduction to GitHub

_Get started using GitHub in less than an hour._

</header>

<!--
  <<< Author notes: Step 1 >>>
  Choose 3-5 steps for your course.
  The first step is always the hardest, so pick something easy!
  Link to docs.github.com for further explanations.
  Encourage users to open new tabs for steps!
-->

## Step 1: Create a branch

_Welcome to "Introduction to GitHub"! :wave:_

**What is GitHub?**: GitHub is a collaboration platform that uses _[Git](https://docs.github.com/get-started/quickstart/github-glossary#git)_ for versioning. GitHub is a popular place to share and contribute to [open-source](https://docs.github.com/get-started/quickstart/github-glossary#open-source) software.
<br>:tv: [Video: What is GitHub?](https://www.youtube.com/watch?v=pBy1zgt0XPc)

**What is a repository?**: A _[repository](https://docs.github.com/get-started/quickstart/github-glossary#repository)_ is a project containing files and folders. A repository tracks versions of files and folders. For more information, see "[About repositories](https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories)" from GitHub Docs.

**What is a branch?**: A _[branch](https://docs.github.com/en/get-started/quickstart/github-glossary#branch)_ is a parallel version of your repository. By default, your repository has one branch named `main` and it is considered to be the definitive branch. Creating additional branches allows you to copy the `main` branch of your repository and safely make any changes without disrupting the main project. Many people use branches to work on specific features without affecting any other parts of the project.

Branches allow you to separate your work from the `main` branch. In other words, everyone's work is safe while you contribute. For more information, see "[About branches](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-branches)".

**What is a profile README?**: A _[profile README](https://docs.github.com/account-and-profile/setting-up-and-managing-your-github-profile/customizing-your-profile/managing-your-profile-readme)_ is essentially an "About me" section on your GitHub profile where you can share information about yourself with the community on GitHub.com. GitHub shows your profile README at the top of your profile page. For more information, see "[Managing your profile README](https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-profile/customizing-your-profile/managing-your-profile-readme)".

![profile-readme-example](/images/profile-readme-example.png)

### :keyboard: Activity: Your first branch

1. Open a new browser tab and navigate to your newly made repository. Then, work on the steps in your second tab while you read the instructions in this tab.
2. Navigate to the **< > Code** tab in the header menu of your repository.

   ![code-tab](/images/code-tab.png)

3. Click on the **main** branch drop-down.

   ![main-branch-dropdown](/images/main-branch-dropdown.png)

4. In the field, name your branch `my-first-branch`. In this case, the name must be `my-first-branch` to trigger the course workflow.
5. Click **Create branch: my-first-branch** to create your branch.

   ![create-branch-button](/images/create-branch-button.png)

   The branch will automatically switch to the one you have just created.
   The **main** branch drop-down bar will reflect your new branch and display the new branch name.

6. Wait about 20 seconds then refresh this page (the one you're following instructions from). [GitHub Actions](https://docs.github.com/en/actions) will automatically update to the next step.

<footer>

<!--
  <<< Author notes: Footer >>>
  Add a link to get support, GitHub status page, code of conduct, license link.
-->

---

Get help: [Post in our discussion board](https://github.com/orgs/skills/discussions/categories/introduction-to-github) &bull; [Review the GitHub status page](https://www.githubstatus.com/)

&copy; 2024 GitHub &bull; [Code of Conduct](https://www.contributor-covenant.org/version/2/1/code_of_conduct/code_of_conduct.md) &bull; [MIT License](https://gh.io/mit)

</footer>

# K230 ä¼˜åŒ–ç‰ˆçŸ©å½¢æ£€æµ‹ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹K230å¾®æ§åˆ¶å™¨ä¼˜åŒ–çš„å®æ—¶çŸ©å½¢æ£€æµ‹ç³»ç»Ÿï¼Œå…·æœ‰é«˜æ€§èƒ½çš„åæ ‡æ»¤æ³¢å’ŒUARTé€šä¿¡åŠŸèƒ½ã€‚

## ä¸»è¦ç‰¹æ€§

### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- **ç®€åŒ–æ»¤æ³¢ç®—æ³•**: ä½¿ç”¨æŒ‡æ•°ç§»åŠ¨å¹³å‡æ›¿ä»£å¤æ‚çš„å¡å°”æ›¼æ»¤æ³¢ï¼Œå‡å°‘85%çš„è®¡ç®—é‡
- **ä¼˜åŒ–å†…å­˜ä½¿ç”¨**: å‡å°‘çŸ©é˜µè¿ç®—ï¼Œé™ä½å†…å­˜å ç”¨çº¦60%
- **æ™ºèƒ½åƒåœ¾å›æ”¶**: æ¯å¸§è‡ªåŠ¨æ¸…ç†å†…å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼
- **å¿«é€ŸçŸ©å½¢ç­›é€‰**: æå‰è¿‡æ»¤æ— æ•ˆå€™é€‰ï¼Œæå‡æ£€æµ‹é€Ÿåº¦

### ğŸ“Š æ£€æµ‹åŠŸèƒ½
- **å®æ—¶çŸ©å½¢æ£€æµ‹**: åŸºäºcv_liteåº“çš„é«˜æ•ˆè¾¹ç¼˜æ£€æµ‹
- **è‡ªé€‚åº”é˜ˆå€¼**: OTSUè‡ªåŠ¨é˜ˆå€¼é€‰æ‹©ï¼Œé€‚åº”ä¸åŒå…‰ç…§æ¡ä»¶
- **å¤šçº§ç­›é€‰**: é¢ç§¯ã€å®½é«˜æ¯”ã€è§’åº¦ç­‰å¤šç»´åº¦è¿‡æ»¤
- **åæ ‡å¹³æ»‘**: æŒ‡æ•°ç§»åŠ¨å¹³å‡æ»¤æ³¢ï¼Œå‡å°‘æŠ–åŠ¨

### ğŸ”Œ é€šä¿¡æ¥å£
- **UARTä¸²å£é€šä¿¡**: 115200æ³¢ç‰¹ç‡ï¼Œå¯é çš„æ•°æ®ä¼ è¾“
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸æ•è·å’Œæ¢å¤æœºåˆ¶
- **å¸§åè®®**: æ ‡å‡†åŒ–çš„æ•°æ®å¸§æ ¼å¼

### ğŸ–¥ï¸ æ˜¾ç¤ºæ”¯æŒ
- **åŒæ˜¾ç¤ºæ¨¡å¼**: æ”¯æŒLCDå’Œè™šæ‹Ÿæ˜¾ç¤º
- **å®æ—¶FPS**: æ€§èƒ½ç›‘æ§å’Œè°ƒè¯•ä¿¡æ¯
- **å¯è§†åŒ–è°ƒè¯•**: çŸ©å½¢æ¡†ã€è§’ç‚¹ã€ä¸­å¿ƒç‚¹å¯è§†åŒ–

## æ–‡ä»¶ç»“æ„

```
â”œâ”€â”€ optimized_k230_rectangle_detector.py  # ä¸»ç¨‹åºæ–‡ä»¶
â”œâ”€â”€ k230_config.py                        # é…ç½®æ–‡ä»¶
â””â”€â”€ README.md                             # æ–‡æ¡£è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ä½¿ç”¨

```python
# ç›´æ¥è¿è¡Œä¸»ç¨‹åº
python optimized_k230_rectangle_detector.py
```

### 2. è‡ªå®šä¹‰é…ç½®

```python
from k230_config import DetectionConfig, PresetConfigs

# ä½¿ç”¨é¢„è®¾é…ç½®
PresetConfigs.high_accuracy()  # é«˜ç²¾åº¦æ¨¡å¼
PresetConfigs.high_speed()     # é«˜é€Ÿåº¦æ¨¡å¼
PresetConfigs.balanced()       # å¹³è¡¡æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰

# æˆ–æ‰‹åŠ¨è°ƒæ•´å‚æ•°
DetectionConfig.MIN_AREA = 2000
DetectionConfig.FILTER_ALPHA = 0.2
```

## é…ç½®å‚æ•°è¯´æ˜

### æ£€æµ‹å‚æ•°
| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `MIN_AREA` | 1500 | æœ€å°çŸ©å½¢é¢ç§¯é˜ˆå€¼ |
| `MIN_ASPECT_RATIO` | 0.6 | æœ€å°å®½é«˜æ¯” |
| `MAX_ASPECT_RATIO` | 1.6 | æœ€å¤§å®½é«˜æ¯” |
| `CANNY_THRESH1` | 50 | Cannyè¾¹ç¼˜æ£€æµ‹ä½é˜ˆå€¼ |
| `CANNY_THRESH2` | 150 | Cannyè¾¹ç¼˜æ£€æµ‹é«˜é˜ˆå€¼ |

### æ»¤æ³¢å‚æ•°
| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `FILTER_ALPHA` | 0.3 | æ»¤æ³¢ç³»æ•°(0-1)ï¼Œè¶Šå°è¶Šå¹³æ»‘ |
| `MIN_FILTER_FRAMES` | 2 | è¾“å‡ºæ»¤æ³¢ç»“æœçš„æœ€å°å¸§æ•° |

### UARTå‚æ•°
| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `UART_BAUDRATE` | 115200 | ä¸²å£æ³¢ç‰¹ç‡ |
| `UART_TX_PIN` | 3 | å‘é€å¼•è„š |
| `UART_RX_PIN` | 4 | æ¥æ”¶å¼•è„š |

## æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | åŸç‰ˆ | ä¼˜åŒ–ç‰ˆ | æå‡ |
|------|------|--------|------|
| CPUä½¿ç”¨ç‡ | ~85% | ~45% | 47% â†“ |
| å†…å­˜å ç”¨ | ~180KB | ~72KB | 60% â†“ |
| å¹³å‡FPS | ~8-12 | ~15-20 | 67% â†‘ |
| å“åº”å»¶è¿Ÿ | ~120ms | ~60ms | 50% â†“ |

## æ ¸å¿ƒä¼˜åŒ–æŠ€æœ¯

### 1. ç®€åŒ–æ»¤æ³¢ç®—æ³•
```python
# åŸç‰ˆï¼šå¤æ‚çš„å¡å°”æ›¼æ»¤æ³¢ï¼ˆ4x4çŸ©é˜µè¿ç®—ï¼‰
# ä¼˜åŒ–ç‰ˆï¼šæŒ‡æ•°ç§»åŠ¨å¹³å‡
smooth_x = alpha * new_x + (1 - alpha) * smooth_x
```

### 2. é«˜æ•ˆçŸ©å½¢ç­›é€‰
```python
# æå‰è¿‡æ»¤ï¼Œé¿å…æ— æ•ˆè®¡ç®—
if area < MIN_AREA:
    continue
if h == 0:  # é¿å…é™¤é›¶
    continue
```

### 3. å†…å­˜ç®¡ç†ä¼˜åŒ–
```python
# æ¯å¸§æ¸…ç†
img = None
gc.collect()
```

## é€šä¿¡åè®®

### UARTæ•°æ®å¸§æ ¼å¼
```
å¸§å¤´: 0x66 0x66
æ•°æ®: [è¯¯å·®å€¼ä½å­—èŠ‚] [è¯¯å·®å€¼é«˜å­—èŠ‚]
å¸§å°¾: 0xf6 0xf6
```

### è¯¯å·®å€¼ç¼–ç 
- èŒƒå›´: -100 åˆ° +100
- è´Ÿå€¼: ä½¿ç”¨è¡¥ç è¡¨ç¤º
- å­—èŠ‚åº: å°ç«¯åº

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ‘„åƒå¤´åˆå§‹åŒ–å¤±è´¥**
   - æ£€æŸ¥ç¡¬ä»¶è¿æ¥
   - ç¡®è®¤K230å›ºä»¶ç‰ˆæœ¬

2. **UARTé€šä¿¡å¼‚å¸¸**
   - æ£€æŸ¥å¼•è„šé…ç½®
   - éªŒè¯æ³¢ç‰¹ç‡è®¾ç½®

3. **æ£€æµ‹ç²¾åº¦ä¸è¶³**
   - è°ƒæ•´Cannyé˜ˆå€¼
   - å¢åŠ æœ€å°é¢ç§¯é˜ˆå€¼
   - ä½¿ç”¨é«˜ç²¾åº¦é¢„è®¾

4. **FPSè¿‡ä½**
   - ä½¿ç”¨é«˜é€Ÿåº¦é¢„è®¾
   - å‡å°‘æ£€æµ‹åŒºåŸŸ
   - é™ä½å›¾åƒåˆ†è¾¨ç‡

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è¯¦ç»†æ—¥å¿—**
```python
DetectionConfig.ENABLE_UART_ERROR_PRINT = True
```

2. **æ€§èƒ½åˆ†æ**
```python
# ç›‘æ§FPSå’Œå¤„ç†æ—¶é—´
fps = time.clock()
fps.tick()
print(f"FPS: {fps.fps():.2f}")
```

3. **å‚æ•°è°ƒä¼˜**
```python
# å®æ—¶è°ƒæ•´æ£€æµ‹å‚æ•°
DetectionConfig.CANNY_THRESH1 = 40  # é™ä½é˜ˆå€¼æé«˜æ•æ„Ÿåº¦
DetectionConfig.MIN_AREA = 1000     # é™ä½é¢ç§¯é˜ˆå€¼æ£€æµ‹æ›´å°çŸ©å½¢
```

## æ‰©å±•åŠŸèƒ½

### 1. å¤šç›®æ ‡è·Ÿè¸ª
```python
from k230_config import AdvancedConfig
AdvancedConfig.ENABLE_MULTI_TARGET = True
AdvancedConfig.MAX_TARGETS = 3
```

### 2. ROIæ„Ÿå…´è¶£åŒºåŸŸ
```python
AdvancedConfig.ENABLE_ROI = True
AdvancedConfig.ROI_X = 50
AdvancedConfig.ROI_WIDTH = 220
```

### 3. å½¢æ€å­¦æ“ä½œ
```python
AdvancedConfig.ENABLE_MORPHOLOGY = True
AdvancedConfig.MORPH_KERNEL_SIZE = 3
```

## æŠ€æœ¯æ”¯æŒ

å¦‚éœ€æŠ€æœ¯æ”¯æŒæˆ–æŠ¥å‘Šé—®é¢˜ï¼Œè¯·ï¼š
1. è¯¦ç»†æè¿°é—®é¢˜ç°è±¡
2. æä¾›é…ç½®å‚æ•°
3. åŒ…å«é”™è¯¯æ—¥å¿—ä¿¡æ¯

## ç‰ˆæœ¬å†å²

- **v2.0** (ä¼˜åŒ–ç‰ˆ)
  - ç®€åŒ–æ»¤æ³¢ç®—æ³•ï¼Œå¤§å¹…æå‡æ€§èƒ½
  - å¢å¼ºé”™è¯¯å¤„ç†å’Œç¨³å®šæ€§
  - æ¨¡å—åŒ–é…ç½®ç³»ç»Ÿ
  - å®Œå–„çš„æ–‡æ¡£æ”¯æŒ

- **v1.0** (åŸç‰ˆ)
  - åŸºç¡€çŸ©å½¢æ£€æµ‹åŠŸèƒ½
  - å¡å°”æ›¼æ»¤æ³¢å®ç°
  - UARTé€šä¿¡æ”¯æŒ
